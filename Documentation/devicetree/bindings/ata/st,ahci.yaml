# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/ata/st,ahci.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: STMicroelectronics STi SATA controller

maintainers:
  - Patrice Chotard <patrice.chotard@foss.st.com>

properties:
  compatible:
    const: st,ahci

  reg:
    maxItems: 1

  interrupts:
    maxItems: 1

  interrupt-names:
    const: hostc

  clocks:
    maxItems: 1

  clock-names:
    const: ahci_clk

  phys:
    maxItems: 1

  phy-names:
    const: ahci_phy

  resets:
    maxItems: 3

  reset-names:
    items:
      - const: pwr-dwn
      - const: sw-rst
      - const: pwr-rst

required:
  - compatible
  - reg
  - interrupts
  - interrupt-names
  - clocks
  - clock-names
  - phys
  - phy-names

additionalProperties: false

examples:
  - |
    /* Example for stih407 family silicon */
    sata0: sata@9b20000 {
        compatible    = "st,ahci";
        reg        = <0x9b20000 0x1000>;
        interrupts    = <GIC_SPI 159 IRQ_TYPE_NONE>;
        interrupt-names    = "hostc";
        phys        = <&phy_port0 PHY_TYPE_SATA>;
        phy-names    = "ahci_phy";
        resets        = <&powerdown STIH407_SATA0_POWERDOWN>,
                  <&softreset STIH407_SATA0_SOFTRESET>,
                  <&softreset STIH407_SATA0_PWR_SOFTRESET>;
        reset-names    = "pwr-dwn", "sw-rst", "pwr-rst";
        clocks        = <&clk_s_c0_flexgen CLK_ICN_REG>;
        clock-names    = "ahci_clk";
    };
...
